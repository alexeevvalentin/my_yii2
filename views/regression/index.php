<?php

$this->title = 'Регрессия и анализ данных';
Yii::$app->name = 'Регрессия и анализ данных';

use app\models\GenF;
use app\models\tag;
use yii\helpers\Html;
use app\models\DBM;
use yii\helpers\Json;
use yii\helpers\Url;
use app\models\matrix;
use app\models\regression;
use app\models\dialog;
use app\models\graph_canvas;

//$A = [[2,6,5],[-1,9,8],[8,0,2]];
//$B = [[8]];

$Y_full = [[2296],[2247],[2372.6],[2242.4],[2347.8],[2384.9],[2401.2],[2656.2],[2584.6],[2765.4],[2976.8],[3144],[3433],[3525.9],[3744.2],[3507.7],[3532.9],[3748.9],[3826.4],[3923.1],[3875.2],[4014.3],[3902.1],[4209.9],[4612.1],[4869.7],[5113.3],   [5170.6],[5309.2],[5357.8]];
$Z_full = [[368.9, 445.4],[264.3, 486.6],[382.2,507],[262.3,524.4],[386.1,515.2],[395.1,548.2],[333.5,572.6],[505,548.2],[377.5,591.5],[493.7,609.8],[529.5,601.7],[544.7,635.9],[577.8,633.6],[539.9,643.8],[591.5,707.9],[423.5,678],[543.7,722.6],[640,701.7],[552,738.8],[569.8,807.5],[523.4,843.6],[641.7,866.3],[545.8,843.3],[733.2,874.4],[852.1,887.5],[821.6,893.3],[800.6,921.4],   [875.6,930.8],[679.3,1009.2],[1047, 1119.3]];
$Z_1_full = [[1,368.9, 445.4],[1,264.3, 486.6],[1,382.2,507],[1,262.3,524.4],[1,386.1,515.2],[1,395.1,548.2],[1,333.5,572.6],[1,505,548.2],[1,377.5,591.5],[1,493.7,609.8],[1,529.5,601.7],[1,544.7,635.9],[1,577.8,633.6],[1,539.9,643.8],[1,591.5,707.9],[1,423.5,678],[1,543.7,722.6],[1,640,701.7],[1,552,738.8],[1,569.8,807.5],[1,523.4,843.6],[1,641.7,866.3],[1,545.8,843.3],[1,733.2,874.4],[1,852.1,887.5],[1,821.6,893.3],[1,800.6,921.4],   [1,875.6,930.8],[1,679.3,1009.2],[1,1047, 1119.3]];
$X1_full = [[368.9],[264.3],[382.2],[262.3],[386.1],[395.1],[333.5],[505],[377.5],[493.7],[529.5],[544.7],[577.8],[539.9],[591.5],[423.5],[543.7],[640],[552],[569.8],[523.4],[641.7],[545.8],[733.2],[852.1],[821.6],[800.6],   [875.6],[679.3],[1047]];
$X2_full = [[445.4],[486.6],[507],[524.4],[515.2],[548.2],[572.6],[548.2],[591.5],[609.8],[601.7],[635.9],[633.6],[643.8],[707.9],[678],[722.6],[701.7],[738.8],[807.5],[843.6],[866.3],[843.3],[874.4],[887.5],[893.3],[921.4],   [930.8],[1009.2],[1119.3]];
$X2_1_full = [[1,445.4],[1,486.6],[1,507],[1,524.4],[1,515.2],[1,548.2],[1,572.6],[1,548.2],[1,591.5],[1,609.8],[1,601.7],[1,635.9],[1,633.6],[1,643.8],[1,707.9],[1,678],[1,722.6],[1,701.7],[1,738.8],[1,807.5],[1,843.6],[1,866.3],[1,843.3],[1,874.4],[1,887.5],[1,893.3],[1,921.4],   [1,930.8],[1,1009.2],[1,1119.3]];

$Y = [[2296],[2247],[2372.6],[2242.4],[2347.8],[2384.9],[2401.2],[2656.2],[2584.6],[2765.4],[2976.8],[3144],[3433],[3525.9],[3744.2],[3507.7],[3532.9],[3748.9],[3826.4],[3923.1],[3875.2],[4014.3],[3902.1],[4209.9],[4612.1],[4869.7],[5113.3]];
$Z = [[368.9, 445.4],[264.3, 486.6],[382.2,507],[262.3,524.4],[386.1,515.2],[395.1,548.2],[333.5,572.6],[505,548.2],[377.5,591.5],[493.7,609.8],[529.5,601.7],[544.7,635.9],[577.8,633.6],[539.9,643.8],[591.5,707.9],[423.5,678],[543.7,722.6],[640,701.7],[552,738.8],[569.8,807.5],[523.4,843.6],[641.7,866.3],[545.8,843.3],[733.2,874.4],[852.1,887.5],[821.6,893.3],[800.6,921.4]];
$Z_1_full = [[1,368.9, 445.4],[1,264.3, 486.6],[1,382.2,507],[1,262.3,524.4],[1,386.1,515.2],[1,395.1,548.2],[1,333.5,572.6],[1,505,548.2],[1,377.5,591.5],[1,493.7,609.8],[1,529.5,601.7],[1,544.7,635.9],[1,577.8,633.6],[1,539.9,643.8],[1,591.5,707.9],[1,423.5,678],[1,543.7,722.6],[1,640,701.7],[1,552,738.8],[1,569.8,807.5],[1,523.4,843.6],[1,641.7,866.3],[1,545.8,843.3],[1,733.2,874.4],[1,852.1,887.5],[1,821.6,893.3],[1,800.6,921.4]];
$X1 = [[368.9],[264.3],[382.2],[262.3],[386.1],[395.1],[333.5],[505],[377.5],[493.7],[529.5],[544.7],[577.8],[539.9],[591.5],[423.5],[543.7],[640],[552],[569.8],[523.4],[641.7],[545.8],[733.2],[852.1],[821.6],[800.6]];
$X2 = [[445.4],[486.6],[507],[524.4],[515.2],[548.2],[572.6],[548.2],[591.5],[609.8],[601.7],[635.9],[633.6],[643.8],[707.9],[678],[722.6],[701.7],[738.8],[807.5],[843.6],[866.3],[843.3],[874.4],[887.5],[893.3],[921.4]];
$X2_1 = [[1,445.4],[1,486.6],[1,507],[1,524.4],[1,515.2],[1,548.2],[1,572.6],[1,548.2],[1,591.5],[1,609.8],[1,601.7],[1,635.9],[1,633.6],[1,643.8],[1,707.9],[1,678],[1,722.6],[1,701.7],[1,738.8],[1,807.5],[1,843.6],[1,866.3],[1,843.3],[1,874.4],[1,887.5],[1,893.3],[1,921.4]];

//$Y_key_full = [['keyY'=>2296],['keyY'=>2247],['keyY'=>2372.6],['keyY'=>2242.4],['keyY'=>2347.8],['keyY'=>2384.9],['keyY'=>2401.2],['keyY'=>2656.2],['keyY'=>2584.6],['keyY'=>2765.4],['keyY'=>2976.8],['keyY'=>3144],['keyY'=>3433],['keyY'=>3525.9],['keyY'=>3744.2],['keyY'=>3507.7],['keyY'=>3532.9],['keyY'=>3748.9],['keyY'=>3826.4],['keyY'=>3923.1],['keyY'=>3875.2],['keyY'=>4014.3],['keyY'=>3902.1],['keyY'=>4209.9],['keyY'=>4612.1],['keyY'=>4869.7],['keyY'=>5113.3],   ['keyY'=>5170.6],['keyY'=>5309.2],['keyY'=>5357.8]];
//$Z_key_full = [['keyX1'=>368.9, 'keyX2'=>445.4],['keyX1'=>264.3, 'keyX2'=>486.6],['keyX1'=>382.2,'keyX2'=>507],['keyX1'=>262.3,'keyX2'=>524.4],['keyX1'=>386.1,'keyX2'=>515.2],['keyX1'=>395.1,'keyX2'=>548.2],['keyX1'=>333.5,'keyX2'=>572.6],['keyX1'=>505,'keyX2'=>548.2],['keyX1'=>377.5,'keyX2'=>591.5],['keyX1'=>493.7,'keyX2'=>609.8],['keyX1'=>529.5,'keyX2'=>601.7],['keyX1'=>544.7,'keyX2'=>635.9],['keyX1'=>577.8,'keyX2'=>633.6],['keyX1'=>539.9,'keyX2'=>643.8],['keyX1'=>591.5,'keyX2'=>707.9],['keyX1'=>423.5,'keyX2'=>678],['keyX1'=>543.7,'keyX2'=>722.6],['keyX1'=>640,'keyX2'=>701.7],['keyX1'=>552,'keyX2'=>738.8],['keyX1'=>569.8,'keyX2'=>807.5],['keyX1'=>523.4,'keyX2'=>843.6],['keyX1'=>641.7,'keyX2'=>866.3],['keyX1'=>545.8,'keyX2'=>843.3],['keyX1'=>733.2,'keyX2'=>874.4],['keyX1'=>852.1,'keyX2'=>887.5],['keyX1'=>821.6,'keyX2'=>893.3],['keyX1'=>800.6,'keyX2'=>921.4],   ['keyX1'=>875.6,'keyX2'=>930.8],['keyX1'=>679.3,'keyX2'=>1009.2],['keyX1'=>1047, 'keyX2'=>1119.3]];

$Y_key = [['keyY'=>2296],['keyY'=>2247],['keyY'=>2372.6],['keyY'=>2242.4],['keyY'=>2347.8],['keyY'=>2384.9],['keyY'=>2401.2],['keyY'=>2656.2],['keyY'=>2584.6],['keyY'=>2765.4],['keyY'=>2976.8],['keyY'=>3144],['keyY'=>3433],['keyY'=>3525.9],['keyY'=>3744.2],['keyY'=>3507.7],['keyY'=>3532.9],['keyY'=>3748.9],['keyY'=>3826.4],['keyY'=>3923.1],['keyY'=>3875.2],['keyY'=>4014.3],['keyY'=>3902.1],['keyY'=>4209.9],['keyY'=>4612.1],['keyY'=>4869.7],['keyY'=>5113.3]];
$X2_key = [['keyX2'=>445.4],['keyX2'=>486.6],['keyX2'=>507],['keyX2'=>524.4],['keyX2'=>515.2],['keyX2'=>548.2],['keyX2'=>572.6],['keyX2'=>548.2],['keyX2'=>591.5],['keyX2'=>609.8],['keyX2'=>601.7],['keyX2'=>635.9],['keyX2'=>633.6],['keyX2'=>643.8],['keyX2'=>707.9],['keyX2'=>678],['keyX2'=>722.6],['keyX2'=>701.7],['keyX2'=>738.8],['keyX2'=>807.5],['keyX2'=>843.6],['keyX2'=>866.3],['keyX2'=>843.3],['keyX2'=>874.4],['keyX2'=>887.5],['keyX2'=>893.3],['keyX2'=>921.4]];
$X2_key_1 = [['coef'=>1,'keyX2'=>445.4],['coef'=>1,'keyX2'=>486.6],['coef'=>1,'keyX2'=>507],['coef'=>1,'keyX2'=>524.4],['coef'=>1,'keyX2'=>515.2],['coef'=>1,'keyX2'=>548.2],['coef'=>1,'keyX2'=>572.6],['coef'=>1,'keyX2'=>548.2],['coef'=>1,'keyX2'=>591.5],['coef'=>1,'keyX2'=>609.8],['coef'=>1,'keyX2'=>601.7],['coef'=>1,'keyX2'=>635.9],['coef'=>1,'keyX2'=>633.6],['coef'=>1,'keyX2'=>643.8],['coef'=>1,'keyX2'=>707.9],['coef'=>1,'keyX2'=>678],['coef'=>1,'keyX2'=>722.6],['coef'=>1,'keyX2'=>701.7],['coef'=>1,'keyX2'=>738.8],['coef'=>1,'keyX2'=>807.5],['coef'=>1,'keyX2'=>843.6],['coef'=>1,'keyX2'=>866.3],['coef'=>1,'keyX2'=>843.3],['coef'=>1,'keyX2'=>874.4],['coef'=>1,'keyX2'=>887.5],['coef'=>1,'keyX2'=>893.3],['coef'=>1,'keyX2'=>921.4]];

$Y_key_full = [['keyY'=>2296],['keyY'=>2247],['keyY'=>2372.6],['keyY'=>2242.4],['keyY'=>2347.8],['keyY'=>2384.9],['keyY'=>2401.2],['keyY'=>2656.2],['keyY'=>2584.6],['keyY'=>2765.4],['keyY'=>2976.8],['keyY'=>3144],['keyY'=>3433],['keyY'=>3525.9],['keyY'=>3744.2],['keyY'=>3507.7],['keyY'=>3532.9],['keyY'=>3748.9],['keyY'=>3826.4],['keyY'=>3923.1],['keyY'=>3875.2],['keyY'=>4014.3],['keyY'=>3902.1],['keyY'=>4209.9],['keyY'=>4612.1],['keyY'=>4869.7],['keyY'=>5113.3],   ['keyY'=>5170.6],['keyY'=>5309.2],['keyY'=>5357.8]];
$X2_key_full = [['keyX2'=>445.4],['keyX2'=>486.6],['keyX2'=>507],['keyX2'=>524.4],['keyX2'=>515.2],['keyX2'=>548.2],['keyX2'=>572.6],['keyX2'=>548.2],['keyX2'=>591.5],['keyX2'=>609.8],['keyX2'=>601.7],['keyX2'=>635.9],['keyX2'=>633.6],['keyX2'=>643.8],['keyX2'=>707.9],['keyX2'=>678],['keyX2'=>722.6],['keyX2'=>701.7],['keyX2'=>738.8],['keyX2'=>807.5],['keyX2'=>843.6],['keyX2'=>866.3],['keyX2'=>843.3],['keyX2'=>874.4],['keyX2'=>887.5],['keyX2'=>893.3],['keyX2'=>921.4],   ['keyX2'=>930.8],['keyX2'=>1009.2],['keyX2'=>1119.3]];
$X2_key_1_full = [['coef'=>1,'keyX2'=>445.4],['coef'=>1,'keyX2'=>486.6],['coef'=>1,'keyX2'=>507],['coef'=>1,'keyX2'=>524.4],['coef'=>1,'keyX2'=>515.2],['coef'=>1,'keyX2'=>548.2],['coef'=>1,'keyX2'=>572.6],['coef'=>1,'keyX2'=>548.2],['coef'=>1,'keyX2'=>591.5],['coef'=>1,'keyX2'=>609.8],['coef'=>1,'keyX2'=>601.7],['coef'=>1,'keyX2'=>635.9],['coef'=>1,'keyX2'=>633.6],['coef'=>1,'keyX2'=>643.8],['coef'=>1,'keyX2'=>707.9],['coef'=>1,'keyX2'=>678],['coef'=>1,'keyX2'=>722.6],['coef'=>1,'keyX2'=>701.7],['coef'=>1,'keyX2'=>738.8],['coef'=>1,'keyX2'=>807.5],['coef'=>1,'keyX2'=>843.6],['coef'=>1,'keyX2'=>866.3],['coef'=>1,'keyX2'=>843.3],['coef'=>1,'keyX2'=>874.4],['coef'=>1,'keyX2'=>887.5],['coef'=>1,'keyX2'=>893.3],['coef'=>1,'keyX2'=>921.4],   ['coef'=>1,'keyX2'=>930.8],['coef'=>1,'keyX2'=>1009.2],['coef'=>1,'keyX2'=>1119.3]];


$X2_fall = [['coef'=>445.4,'keyX2'=>445.4],['coef'=>486,'keyX2'=>486.6],['coef'=>507,'keyX2'=>507],['coef'=>524,'keyX2'=>524.4],['coef'=>1,'keyX2'=>515.2],['coef'=>1,'keyX2'=>548.2],['coef'=>1,'keyX2'=>572.6],['coef'=>1,'keyX2'=>548.2],['coef'=>1,'keyX2'=>591.5],['coef'=>1,'keyX2'=>609.8],['coef'=>1,'keyX2'=>601.7],['coef'=>1,'keyX2'=>635.9],['coef'=>1,'keyX2'=>633.6],['coef'=>1,'keyX2'=>643.8],['coef'=>1,'keyX2'=>707.9],['coef'=>1,'keyX2'=>678],['coef'=>1,'keyX2'=>722.6],['coef'=>1,'keyX2'=>701.7],['coef'=>1,'keyX2'=>738.8],['coef'=>1,'keyX2'=>807.5],['coef'=>1,'keyX2'=>843.6],['coef'=>1,'keyX2'=>866.3],['coef'=>1,'keyX2'=>843.3],['coef'=>1,'keyX2'=>874.4],['coef'=>1,'keyX2'=>887.5],['coef'=>1,'keyX2'=>893.3],['coef'=>1,'keyX2'=>921.4],   ['coef'=>1,'keyX2'=>930.8],['coef'=>1,'keyX2'=>1009.2],['coef'=>1,'keyX2'=>1119.3]];

regression::report_regression($Y_key_full, $X2_key_full, '1',['keyY'=>'Ключ Y', 'keyX1'=>'Ключ X1', 'keyX2'=>'Ключ X2'], [['coef'=>1,'keyX2'=>1010], ['coef'=>1,'keyX2'=>1021]]);

echo '<input type="button" style="margin:8px;" value="Задать данные для графика" id="show_btn"/>';

$dial_1 = new dialog('test_dialog_id');
$dial_1->set_dialog_style('background-color:orange;min-width:440px;');
$dial_1->set_template('input_regression_data');
$dial_1->on_show_hide('show_btn');

//echo '<div style="width:300px;height:300px;"></div>';

$graph_1 = new graph_canvas('test_graph_id');
$graph_1->set_dynamic_data('#test_dialog_id', 'test_dialog_id_rec_dialog_complete');
$graph_1->set_graph();

?>